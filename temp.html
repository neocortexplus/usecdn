<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple React Hello World</title>
    <!-- Load React and ReactDOM from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Load Babel for JSX support -->
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // Main component with useState, useEffect, and event handlers
        const App = () => {
            // State hooks
            const [count, setCount] = React.useState(0);
            const [message, setMessage] = React.useState("Hello World");
            
            // Event handlers
            const handleIncrement = () => {
                setCount(prevCount => prevCount + 1);
            };
            
            const handleDecrement = () => {
                setCount(prevCount => prevCount > 0 ? prevCount - 1 : 0);
            };
            
            const handleReset = () => {
                setCount(0);
                setMessage("Hello World");
            };
            
            const handleChangeMessage = () => {
                setMessage(`Hello World (Clicked ${count} times)`);
            };
            
            // useEffect hook
            React.useEffect(() => {
                // This effect runs after every render
                document.title = `Count: ${count}`;
                
                // Cleanup function (runs before the component unmounts)
                return () => {
                    document.title = "React App";
                };
            }, [count]); // Only re-run if count changes
            
            React.useEffect(() => {
                // This effect runs only once on mount
                console.log("Component mounted");
                
                // Cleanup function
                return () => {
                    console.log("Component will unmount");
                };
            }, []);
            
            return (
                <div>
                    <h1>{message}</h1>
                    <p>Count: {count}</p>
                    
                    <div>
                        <button onClick={handleIncrement}>Increment</button>
                        <button onClick={handleDecrement}>Decrement</button>
                        <button onClick={handleChangeMessage}>Update Message</button>
                        <button onClick={handleReset}>Reset</button>
                    </div>
                </div>
            );
        };

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>